* Peristent counters not shareable - 2008-11-25

Persistent objects (we only use counters) are problematic for two reasons :

- mmaping a file for read/write does not work on flash FS
  (one has to mmap the file for reading and use write() fir writing)

- We need a lock to prevent two programs altering the value simultaneously
  (for instance merecal and mermail both incrementing local version number for the same mdir).

We should solve the first issue by having a read/write API to persist, and the second by
implementing a persistent_version_counter on top of persist, with atomic increment API (returning
the former value), using a file lock on the mmaped file.


